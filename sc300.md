## 📖 Day 1 (2025-07-07)

# LP 1 : Explore identity in Microsoft Entra ID

### Describe how MS thinks of essential lifecycle of identity.
- Zero trust : Always desing identity solution with zero trust in mind
- Identity : System which can provide verified accounts for user and application
- Actions : Identity provides actions such AuthN/AuthZ to keep the system running
- Usage : Once identity is provisioned, it can used to access app or services
- Maintain : Always keep identity system up to date.

### Describe zero trust model.
- In simple terms, zero trust means each authN/authZ should be verified irrespective if the request comes from within or outside.
- Zero trust models always usage below 3 principles (or building block of zero trust model).
- ![image](https://github.com/user-attachments/assets/832dedb0-51c1-40cd-b384-bcfa0acca110)

### How Classic Identity is different from Zero Trust identity?
- Earlier a username & password was used to access any/all resources within perimeter network (trusted).
- With Zero Trust, your access is protected everywhere (within perimeter network or outside) by polices.

### Does Zero Trust model only applies to Identity ? 
- No. It should extend to all the digital assest.
- Each element is a source of signal, a control plane for enforcement, and a critical resource to be defended.
- ![image](https://github.com/user-attachments/assets/24b53932-0c73-4a4b-a304-40cbf7544613)

### What is control plane ?
- A control plane is a tool or service that directs access to resources based on specific criteria. 

### Describe Identity as a control plane.
- With the many networks, devices, and applications needed in daily business, the only common denominator is the identity.
- Every user, external user, app, and device have an identity. So, we say identity is the control plane.

### Why we have identity ?
Identity gives us ability to:
- To prove who or what, we are - **Authentication**
- To get permissions to do something - **Authorization**
- To report on what was done - **Auditing**
- To IT manage and self administer an identity - **Administration**

### What is Identity Provider (IdP) ?
An identity provider (IdP) is a system that creates, manages and stores digital identities. Microsoft Entra ID is an example.

### What are most common capabilities/component of IdP?
- A repository of user identities
- An authentication system
- Security protocols that defend against intrusion
- Someone we trust

### What are some common identity protocl ?
- OIDC
- SAML

### Define Identity Administration.
- Identity administration is how identity objects are managed over the lifetime of the identity’s existence.
- This can be manual or automated.

### What are some common identity administration tasks?
- Identity Proliferation : deals with the storage of identity objects within the environment.
- Provision and Deprovision :
- Identity Updates : how identity information is updated throughout the environment
- Synchronization : ensuring that identity systems within an environment are up to date with the latest identity information
- Password Management : focuses on where and how passwords are set throughout the identity infrastructure
- Group Management : focuses on how an organization manages groups (for example, Active Directory and/or LDAP) within their environment
- Application Entitlement Management : defines on how identities are granted access to applications

### What are Identity automation solution available in Entra ?
- Azure CLI
- Powershell
- Micorosft graph

### What is MS Graph?
- Microsoft Graph exposes REST APIs and client libraries to access data on the following Microsoft cloud services such as Microsoft Entra ID, Microsoft 365, devices, and many others.

### Describe properties of MS Graph.
- it offers a single endpoint for all type of request.
```https://graph.microsoft.com```
- MS Graph connectors allow external data into to MS graph ecosystem.
- Microsoft Graph Data Connect provides a set of tools to streamline secure and scalable delivery of Microsoft Graph data to popular Azure data stores.

### Describe Central Identity system.
- Centralized Identity Management or Central Identity System is a single identity tool where credentials are stored and managed, to provide authentication and authorization capabilities
- can be onprem or cloud based.
- centrally managed
- eg: MS EntraID

### Describe Decentralised Identity system.
- A decentralized identity approach helps people, organizations, and things interact with each other transparently and securely, in an identity trust fabric
- People control their own digital identity and credentials. Decentralized Identifiers (DIDs) are different.
- DIDs are user-generated, self-owned, globally unique identifiers rooted in decentralized systems

### Describe identity management solutions.
- An identity solution controls access to an organization's apps and data.
- eg: Microsoft EntraID

## 📖 Day-2 (2025-07-12)

### Is EntraID flat structure IDP?
- Yes

### Define authentication. 
- he process of authentication controls who or what uses an account.

### What is mean by authorisation?
- Authorization controls what the user can do in applications.

### Define Identity in EntraID.
- An object that can get authenticated.
- An identity can be a user with a username and password.
- it can application or server that might require authentication via secret keys or certificates.

### Define Account in EntraID.
- An identity that has data associated with it.
- You can't have an account without an identity.

### Define MS Entra Account.
- An identity created through Microsoft Entra ID or another Microsoft cloud service, such as Microsoft 365.
- AKA work or school account

### What is the other name of MS Entra Account?
- Work or school account

### Define a User in Entra.
- A single personal verifiable identity in Microsoft Entra ID.

### Define Group in Entra.
- A container of users or identities that can be assigned security privileges or restrictions

### Define Azure Subscription.
- Used to pay for Azure cloud services
- can have more than 1 subscriptions

### Define MS Entra tenant/directory.
- Tenant or directory is a **dedicated and trusted instance** of MS EntraID.
- It is automatically created when an organisation (or individual) signs up for MS cloud service subscription.

### Are tenant and directory same in context of EntraID.
- Yes

### Define Administrative unit.
- A portioned off piece of a Microsoft Entra tenant used to create and administrative boundary.
- basically like OU but limited.

## 📖 Day 3 (2025-07-13)

### Define MS Entra B2B.
- If you want to collaborate with Business guest (such user from other organisation or partners), you can use the B2B Identities.

### What are types of B2B Identities.
- **B2B Collaboration:**

Collaborate with external users by letting them use their preferred identity to sign in to your Microsoft applications or other enterprise applications

B2B collab users usually represent as _Guest User_ in your tenant.

- **B2B Direct Connect:**

Establish a mutual, **two-way trust with another Microsoft Entra organization** for seamless collaboration

Supports Teams shared channel enabling externals users to access your resources from within their home instances of Teams.

These users are not visible in your directory

### What is MS Entra B2C (Business to Consumer)?
- B2C provideds identity solution for end user. 
- It is the CIAM (Customer Identity and access management) solution of Microsoft
- Its is different from standard MS EntraID and has different tenant.
- Note : It is getting replaced by MS External ID and will no longer available for new users from May 1, 2025

### What is MS External Identities? What are 2 tenants it defines?
- It is the new solution for external identities (B2B & B2C) by Microsoft.
- 1. Workforce Teanat: the standard EntraID tenant for employees, internal apps and etc. Externals in this tenant are same as B2B Collaboration users.
- 2. External Tenant: this is the B2C replacement and new CIAM solution. This is for end user or business customers.

(https://learn.microsoft.com/en-us/entra/external-id/external-identities-overview)

### Define identity licensing.
- A license is a purchased agreement to allow a user or group of users to use a piece of Microsoft technology.

### Describe common license types.
- Microsoft Entra ID P1 or P2 license
- Microsoft 365, Office 365, and Windows licenses
- Monthly Active User (MAU) license - For MS Entra External Identities
- Others

### What is subscription?
- A subscription is an agreement with Microsoft to use one or more Microsoft cloud platforms or services.
- Charges can per-user license fee or cloud resource consumption.
- MS SaSS --> Per-user license
- MS PaSS/Iass --> Cloud resource consumption

### Explain Subscripton vs license.
- a license allows a specific user account to use the services of the cloud offering.
- For example: the Contoso Corporation has a Microsoft 365 E5 subscription with 100 licenses, which allows to up to 100 individual user accounts to use Microsoft 365 E5 features and services

### What is Federation (or Federated Identity)?
- Federation is a collection of domains that have established trust.
- The level of trust varies, but typically includes authentication and almost always includes authorization. 

### What is a claim?
- A claim is simply a piece of information, expressed as a key/value pair. - For example, email=bob@contoso.com.

### What is a Issuer in claim-based Identity?
- Issuer is the entity which authenticates the user and creates the claims.

### Does EntraID limit the set of claims through OIDC?
- Yes. 
- If more user details are required, it can be queried with Graph API.

### What is security token?
Security tokens allow a client application to access protected resources on a resource server.

### What are the 3 common types of tokens?
- Access tokens
- Refresh tokens
- ID tokens

### What is Access token?
- An access token is a security token that's issued by an authorization server as part of an OAuth 2.0 flow. 
- It contains information about the user and the resource for which the token is intended.

### What is refresh token?
- Because access tokens are valid for only a short period of time, authorization servers will sometimes issue a refresh token at the same time the access token is issued.
- The client application can then exchange this refresh token for a new access token when needed.

### What is ID token?
- ID tokens are sent to the client application as part of an OpenID Connect flow.
- They can be sent alongside or instead of an access token. 
- ID tokens are used by the client to authenticate the user.

### What is JSON Web Token (JWT)?
- JSON Web Token (JWT) is an open standard that defines a compact and self-contained way for securely transmitting information between parties as a JSON object.

### What are some common Authorization approaches?
- Access Control List (ACL)
- Role-Based Access Control List (RBAC)
- Attribute-Based Access Control List (ABAC)
- Policy-Based Access Control List (PBAC)

### Define Access Control List.
- An explicit list of specific entities who do or don't have access to a resource or functionality. 
- Offers, fine control over resources, but often difficult to maintain with large groups of users and resources.

### Define Role-Based Access Control List (RBAC).
- Roles are defined to describe the kinds of activities an entity can perform. Grant access to roles rather than to individual entities.
- An administrator can then assign roles to different entities to control which ones have access to what resources and functionality.
- This is the most common approach to enforcing authorization.

### Define Attribute-Based Access Control List (ABAC).
- Rules are applied to attributes of the entity, the resources being accessed, and the current environment to determine whether access to some resources or functionality is permitted.

### Policy-Based Access Control List (PBAC).
- A strategy for managing user access to one or more systems, where the business-role of the user is combined with policies to determine what access the user has.

### What is Authentication Context in EntraID?
- Authentication context can be used to further secure data and actions in applications.

## 📖 Day 4 - 2025-07-14

### What is auditing and why it is required?
- Auditing provides a way for an administrator to detect an attack that has already occurred or is in progress.
- Also, auditing is a tool for compliance and tracking what identity did what.

### Define Governance in Identity.
- governance is the act or process of overseeing the control and direction of a system.
- Governance has processes and controls in place to both operate the systems and to evaluate the accountable running of the system.

### Define Identity Lifecycle managment.
- Identity Lifecycle Management aims to automate and manage the entire digital identity lifecycle process.

### Define JML process.
- Joiner
- Leaver
- Mover

# LP 2 - [SC-300: Implement an identity management solution](https://learn.microsoft.com/en-us/training/paths/implement-identity-management-solution/)

## Mod 1 - [Implement initial configuration of Microsoft Entra ID](https://learn.microsoft.com/en-us/training/modules/implement-initial-configuration-of-azure-active-directory/)

### How to configure company branding in sign-in page?
- Goto entra portal (or EntraID in Azure portal)
- Identities --> User experience --> Company Branding --> Default Sing-in --> Click Customize
- [Open this page to get details steps on customising the sign-in page](https://cloudbuild.co.uk/configure-entra-id-company-branding/)

### Does anyone can modify the company branding page?
- No.
- A minimum Organisational Branding Administrator role is required.

### Is EntraID Company Branding free? 
- No.
- It require license - Microsoft Entra ID premium P1, P2, or Office 365 (for Office 365 apps) license

## 📖 Day 5 - 2025-07-15

### Define MS Entra ID roles.
Microsoft Entra roles are used to manage Microsoft **Entra resources in a directory**.

### What are some common Entra roles. 
- Global Administrator (kindof like Domains Admin)
- User Administrator
- Billing Administrator

### What does the Global Admin role can do ?
- can manage access to all admin feature in EID
- can assign admin roles to others
- rest pwd of any user/admin

### What does the User Admin role can do?
- create & manage all aspects of users/group
- manage support tickets
- Monitor service health
- can change pwd for users, Helpdesk Admin and other User Admin

### Can User admin role manage support tickets?
- yes

### User Admin roles can perform pwd reset for __?
- user
- helpdesk admin
- other user admin

### What are Azure roles?
- Azure roles control permissions to manage Azure resources

### What is difference between Azure roles & Microsoft Entra roles?
|Action|Azure Roles|Entra Roles|
|------|-----------|-----------|
|Resources|Manage access to Azure Resouces | Manage access to Entra ID  |
|Custom Roles| Yes | Yes |
|Scope | Multiple Levels (MG, subs, rg, resource) | Only two Level - tenant or AU|
|Role info | Role information can be accessed in Azure portal, Azure CLI, Azure PowerShell, Azure Resource Manager templates, REST API | Role information can be accessed in Azure admin portal, Microsoft 365 admin center, Microsoft Graph, and PowerShell |

### Do Azure roles and Microsoft Entra roles overlap?
- No. By default Azure roles & Entra roles dont overlap.

### Does Entra roles span over M365 roles?
- Yes.
- <img width="785" height="587" alt="image" src="https://github.com/user-attachments/assets/92c6c69f-9949-476e-b42b-d0f66448e0a9" />
- eg: Global Admin, User Admin
  
### Does Entra ID Global Admin has access to Azure resources?
- No. Not by default.

### Is Global Admin can escalate their privledge and access azure resources.
- Yes
- However, if a Global Administrator elevates their access by choosing the Access management for Azure resources switch in the Azure portal, they're granted the User Access Administrator role (an Azure role) on all subscriptions for a particular tenant. The User Access Administrator role enables the user to grant other users access to Azure resources. This switch can be helpful to regain access to a subscription.

### How we can roles to users?
- there are multiple ways to this:
- a) Assign a role to a user or group
- b) Assign a user or group to a role
- c) Assign a role to a broad-scope, like a Subscription, Resource Group, or Management Group
- d) Assign a role using PowerShell or Microsoft Graph API
- e) Assign a role using Privileged Identity Management (PIM)

### Explain the steps for Assign a role to a user or group
- Microsoft Entra ID - Roles and administration - Select a role - + Add Assignment

### Explain the steps for Assign a user or group to a role
- Microsoft Entra ID - Open Users (or Groups) - Select an User (or group) - Assigned roles - + Add Assignment

### Explain the steps for Assign a role to a broad-scope, like a Subscription, Resource Group, or Management Group
- Done via the Access control (IAM) within each settings screen

### Explain steps for using PIM to assign a role.
- // todo

### At what level we can assign EntraID custom roles ?
- directory level
- app registration level

### Where we can create EntraID custom roles?
- Roles and administration tab in EntraID

### How to create a Entra custom roles?
- Select Microsoft Entra ID - Roles and administrators - New custom role.
- On the **Basics tab**, provide a name and description for the role and then select Next.
- On the **Permissions tab**, select the permissions necessary to manage basic properties and credential properties of app registrations.
- First, enter "credentials" in the search bar and select the microsoft.directory/applications/credentials/update permission.
- Next, enter "basic" in the search bar, select the microsoft.directory/applications/basic/update permission, and then select Next
- On the **Review + create tab**, review the permissions and select **Create**.

Details : [How to create Entra Custom Roles](https://learn.microsoft.com/en-us/training/modules/implement-initial-configuration-of-azure-active-directory/3-configure-manage-roles)

## 📖 Day 6 - 2025-07-16

### What is Adminstrative Unit?
- Administrative units are Microsoft Entra ID resources that can be containers for other Microsoft Entra resources
- Can contain only users, groups, and devices.

### Can AU contains another AU ?
- No.
- (it does allow AU nesting as on prem OU)

### How does AU help in delegating the permission ?
- //todo
 
### What admin roles are available for an AU?
- Authentication administrator
- Helpdesk administrator
- License administrator
- Password administrator
- User administrator

### Who can register application in EntraID?
- By default any user can register application and manage all aspects of the application.

### What are the ways to delegate application creation and management permissions?
- restrict who can can create applications and manage applications they create.
- assigning specific owner to a application.
- Assigning a built-in administrative role that grants access to manage configuration in Microsoft Entra ID for all applications
- Create a custom role to define specific permissions.

### What access does the application admin role has?
- manage all applications in directory
- app registration
- sso settings
- user & group assignments and licensing
- Application Proxy setting
- consent

### Can App admin manage Conditional Policies?
- No.

### What access does the Cloud App Admin role have?
- same as app admin except App proxy setting

### Whats the difference in App admin role & Cloud Admin role?
- App admin can manage App proxy whereas cloud admin cannot.

### How to selectively grant access to create application registration (or Basically restrict app registration permission to few selected users)?
- Set **Users can register applications** to *No* in **User settings**
- Assign the user to the Application Developer role
- When an Application Developer creates a new application registration, they're automatically added as the first owner.

## 📖 Day 7 (2025-07-17 05:51)

### How to selectively grant ability to consent to allow an application to access data?
- Set **Users can consent to applications accessing company data on their behalf** To *No* in **User settings** under **Enterprise apps**
- Assign the user to the Application Developer role
- When an Application Developer creates a new application registration, they're automatically added as the first owner.

### What are the 2 app owner roles?
- Enterprise Application Owner
- Application Registration Owner

### What is Enterprise Application Owner?
- grants ability to manage 'enterprise application' that user owns
- they they manage the sso setting, user/group assignment
- they can add additional owner

### Can Enterprise Application owner manages Application Proxy settings or Conditional Access?
- No.

### What is the Application Registration Owner?
- grants ability to manage application registrations for apps that user owns
- they can manage their application manifest
- can add additional owners

### Can Application owner manages Application Proxy settings or Conditional Access?
- No.

### How to secure priviledge access to hybrid and cloud deployments?
- **//todo**
- [Securing privileged access for hybrid and cloud deployments](https://learn.microsoft.com/en-us/entra/identity/role-based-access-control/security-planning)

### How to create emergency access administrative accounts?
- **//todo**
- [Create emergency-access administrative accounts](https://learn.microsoft.com/en-us/entra/identity/role-based-access-control/security-emergency-access)

### What is permission ?
- It is the consent or authorization to perform a specific actions.
- In EntraID, you have permission for each operation you're able to do.

### What are the 2 level where permission can be applied?
- User
- Group

### Does the member-user and guest-user have same permission?
No, the guest-user have lesser permission

### List some of the default permission of the member-user.
- enumerate list of user and their contacts
- invite guest users
- can create security and m365 groups
- register new applications

- For full permission list, ref to: [users-default-permissions](https://learn.microsoft.com/en-us/azure/active-directory/fundamentals/users-default-permissions)

### List some of the default permission of the guest-user.
- read own properties
- invite guest users
- can search for non hidden groups by name
- read properties fo registered and enterprise application

- For full permission list, ref to: [users-default-permissions](https://learn.microsoft.com/en-us/azure/active-directory/fundamentals/users-default-permissions)

### What are the ways to restrict permission for default users?
- User setting
- Roles and administration

### What are the options present in User setting to restricting permission?
- Register applications
- Access the Azure portal
- Block LinkedIn connections
- Manage settings for external collaboration

<img width="584" height="677" alt="image" src="https://github.com/user-attachments/assets/02d89b4d-21c8-4af9-8559-af0d66d78fc4" />

### How to check the specific permission a roles have? or What the permission a role consist of ?
- Goto EntraID
- Roles & Administration
- Select a role
- Open the description page of the role

### What are the 2 sets of permission a role consist of ?
- Role permissions
- Guest and service principal basic read permissions

- **//todo - check the difference b/w these two**

### Who can manage domain names in EntraID ?
- Global Admin

### How to change the primary domain name for a tenant?
- Goto EntraID
- Select Custom domain names
- Select the name of the domain that you want to be the primary domain
- Select the Make primary command. Confirm your choice when prompted

### Does changing the primary domain name will also change the username for existing users?
- No

### How many custom domain can be added to tenant?
- 900 managed domain 

### If custom domain are federated with On prem AD, then how many such domains can be added?
- 450 domain names

### How to add custom sub domain to EntraID?
- First, we need to add the root domain itself.
- EntraID will verify the sub domain itself.

### Does the root domain and sub domain added to same tenant?
- No, the sub domain can be added to different than the root domain

### What to do if you change the DNS registrar for your custom domain name?
- If you change the DNS registrars, there are no additional configuration tasks in Microsoft Entra ID.

### Can we delete custom domain name?
- Yes

### What are the pre-requisite for deleting custom domain name?
- You can't delete a domain name from your organization if:
- **a)** Any user has a user name, email address, or proxy address that includes the domain name.
- **b)** Any group has an email address or proxy address that includes the domain name.
- **c)** Any application in your Microsoft Entra ID has an app ID URI that includes the domain name.

### What is *ForceDelete* in deleting custom domain?
- **//todo**
- https://learn.microsoft.com/en-us/training/modules/implement-initial-configuration-of-azure-active-directory/7-configure-manage-custom-domains

### What are tenant wide setting options?
- Tenant Properties
- User Settings
- External Collaboration Settings

### How to check Tenant properties setting ?
- Goto EntraID
- Identity --> Overview Page --> Properties

### What setting or properties available for the tenant wide setting?
- name of the directory
- Country or region
- Notification language
- Tenant ID
- Technical contact
- Global privacy contact
- Privacy statement URL
- <img width="464" height="684" alt="image" src="https://github.com/user-attachments/assets/a5223799-9794-4412-8845-d931d3f1fd78" />

### How to view the Tenant wide User settings?
- Goto EntraID
- Identity --> Users --> User Setting

### What setting or properties are available for Tenant wide user settings?
- global permssion for user like
  - app registration access (default : yes)
  - security group creation (default : yes)
  - restrict non admins to create new tenant
  - restrict access to Entra administration portal
  - <img width="707" height="811" alt="image" src="https://github.com/user-attachments/assets/c653b6d7-21b7-4a9c-a076-2cced28fd163" />

### Are members by default allowed to create app registration?
- Yes

### What happens when User setting "Restrict access to EntraID administration portal" is set to _NO_?
- Setting this option to _No_ lets non-administrators use the Microsoft Entra administration portal to read and manage Microsoft Entra resources

### Does the User setting "Restrict access to EntraID administration portal" applies to Powershell or VS?
- No

### Does members can read basic directory information by default?
- Yes

### Does guest & service principal can read basic directory information by default?
- No

### How to view the external collaboration settings?
- Goto EntraID
- Identity --> External User --> User Setting --> Manange External collaboration
- (**Verify the above steps**)

### What setting or properties are available for tenant wide external collaboration settings?
- external can invite guest user
- guest user access restriction
- enable guest self service sign up
- <img width="638" height="704" alt="image" src="https://github.com/user-attachments/assets/3ce08767-1922-4549-9917-c9d2d2feec9a" />

### A user access consist of _, _ & _ ?
- type of user
- their role assignments
- their ownership of individual objects

## 📖 Day 8 (2025-07-18 05:42 +5A)

### Can we change country or region for a tenant?
- No.
- When the tenant is created, the Country / region is specified at that time. This setting can't be changed later

### Exercise - setting tenant-wide properties
- **//todo**

### A domain name is included as part of a user name or email address for users and groups. Can a domain name also be included as part of an application or other resource?
- Yes, a domain name can be included as part of an application or other resource if the organization owns the domain name that contains the resource.

### The proliferation of many types of devices and bring your own device (BYOD) concept require IT professionals to accommodate two rather different goals. One goal is to allow users to be productive wherever and anytime. What is the other goal?
- Protect the organization's assets.

### Microsoft Entra guest users have restricted directory permissions. Which of the following answers best describes guest users capabilities?
- They can manage their own profile, change their own password, and retrieve some information about other users, groups, and apps.

## Mod : [Create, configure, and manage identities](https://learn.microsoft.com/en-us/training/modules/create-configure-manage-identities/)

### How to view users in EntraID?
- Goto EntraID portal
- Users --> All Users

### In how many ways microsoft define users? What are those?
- MS defines identies in **3** ways. these are
  - Cloud Identities
  - Directory-synchronised identities
  - Guest Users
 
### Define Cloud Idenities in Entra ID.
- These users exist only in Microsoft Entra ID

### What is the source of Cloud Identies?
- Their source is **Microsoft Entra ID or External Microsoft Entra directory** if the user is defined in another Microsoft Entra instance but needs access to subscription resources controlled by this directory.

### Define Directory-synchronized identities.
- These users exist in an on-premises Active Directory.
- A synchronization activity that occurs via Microsoft Entra Connect brings these users in to Azure

### What is the source of Directory-synchronized identities?
- Their source is **Windows Server AD**.

### Define Guest users.
- These users exist outside Azure
- eg: accounts from other cloud providers and Microsoft accounts such as an Xbox LIVE account

### What is the source of guest users?
- Their source is **Invited user**

## 📖 Day 9 (2025-07-19 06:10:03 +5A)

### Exercise - assign licenses to users
- assuming we dont have any user in tenant, we will create a user first. then we will create a group and add the user to group as member. then we would assign the permission to group
  - **step1:** Create a user in EntraID
  - **step2:** create a security group in EntraID
  - **step3:** assign license to a group

### How to create a user in EntraID?
- EntraID Users --> All Users --> +New User --> Create new user
- following minimal details can be supplied to create the account
  - user principal name
  - name
  - first name
  - last name
  - password
 
### How to create a security group?
- EntraID --> Groups --> All Groups --> New Group
- following details can be supplied to create the group:
  - group type
  - group name
  - membership type
  - owner
  - members

### How to assign a license to a group?
- In the **All groups** list, select **Marketing**.
- In the Marketing window, under **Manage**, select **Licenses**.
- Notices that no licenses are currently assigned to this group.
- Open a new tab in your browser.
- Go to the Microsoft 365 admin center at http://admin.microsoft.com.
- Select **Billing** from the menu on the left.
- Select **Licenses**.
- From the list of licenses you have available, select one.
- Next you'll select **Groups** from the list near the top of the screen.
- On the Groups page, select + **Assign license**.
- Search for and select the **Marketing** group we created earlier.
- Select the Assign button at the bottom of the dialog.
- You should get a message that licenses were successfully assigned.

### How to restore a deleted account?
- If the user is deleted in last 30 days, it will be in Recycle bin and can restored, along with all its properties.

### Can we restore a account after 30 days from its deletion date?
- No

### What is the permission require to restore or permanently delete users?
- Global Admin
- Partner Tier-1 Support
- Partner Tier-2 Support
- User Administrator

### Exercise - restore or remove deleted users
- **step1:** delete a user from entraID
- **step2:** restore a deleted user

### How to remove a user from EntraID?
- EntraID --> Users --> All Users
- Select the user, click on the delete button on top right side
- (we can select multiple users)

### How to restore a deleted user ?
- Goto EntraID --> Users --> **Deleted User**
- Select the user to restore, click **Restore User**
- the user would be available now under **All Users** blade

### What is different types of groups available in entraID?
- security group
- m365 groups

### Define security groups in entraID.
- most common type of group and mostly used to provide access to resources (to groups of users instead of giving access individually to each users)

### Can end user create security groups in entraID?
- No.

### Who can create security groups in entraID?
- Entra admins can create security groups

### Define M365 groups in EntraID.
- use for **collaboration** by giving access to members to shared mailbox, calender, files, sharepoint site, and more.

### does people outside of organisation can access M365 groups.
- yes, people outside of organization can access m365 groups as its main purpose collaboration

### Who can create m365 groups?
- both End user or admin 

### Can end user create m365 groups?
- yes

### How to view available groups in EntraID?
- Goto entraID --> Groups --> All Groups

### What are the membership types of an entraID groups?
- memberships defines how individual users are added to the groups. there are 2 types:
  - Assigned
  - Dynamic
 
### Define "Assigned" membership type for a entraID group?
- members are added and maintained manually.

### Define "Dynamic" membership type for a entraID group?
- members are added based on rules, creating a Dynamic Group

### What group can be called as Dynamic group in entraID?
- groups whose membership type is dynamic ie whose membership is defined dynamically based on some attributes or other properties

### Exercise - add groups in Microsoft Entra ID

### How to create a m365 group in entraID?
- Goto EntraID --> Groups --> New Group
- provide following information to create:
  - group type
  - group name
  - membership type
  - owners
  - members

  <img width="838" height="659" alt="image" src="https://github.com/user-attachments/assets/3e62c9bb-a389-412f-9394-5c1fc24d4de3" />

### How manys ways computer/devices identity be created/joined to entraID?
- Entra Registered devices
- Entra Joined devices
- Hybrid Entra Joined devices

### Describe Entra Registered devices.
- Registered to Microsoft Entra ID without requiring organizational account to sign in to the device.
- User use their personal account to login to the device and **add their EntraID account to access company resource** 
- usecase : BYOD or mobile devices
- the device can belong to either user or orgnisation but mostly it belong to user in this case

### Does the entra registered device use personal account to access orgaisational resources?
- No.
- the user logs in with their personal account, however they use EntraID account to access the organisation resources

### What are the operating system supported for Entra registered devices?
- Windows 10
- Windows 11
- iOS
- Android
- macOS

### Does entra registered device support conditional access policies?
- Yes

### Does entra registered device support sso capbabilities?
- Yes

### Can Entra Registered device managed by Intune?
- Yes

### What are the ways a devices be Entra Registered?
- Accessing work application for first time
- Windows 10 setting menu

## 📖 Day 10 (2025-07-20 09:15:34 AM +05:30)

### Describe Entra Joined devices.
- Joined only to Microsoft Entra ID requiring organizational account to sign in to the device
- Entra Joined devices are owned by oragnization

### What are the operating system supported for Entra Joined devices.
- Windows 10 & 11

### Does all edition windows 10/11 supports Entra Joined devices.
- No.
- Windows 10/11 Home edition does not support Entra Joined devices.

### Does Entra Joined devices be managed by MDM solutions like Intune?
- Yes

### What the key features supported by Entra Joined devices (4 points)?
- SSO for Cloud & onprem resources
- Conditional Access
- Self-service Password Reset
- Windows Hello PIN reset

### What are the ways a machines can be Entra Joined?
- Self service (Out of Box Experience - OOBE)
- Bulk Enrollment
- Windows Autopilot

### Describe Hybrid Entra Joined devices.
- the device is joined to onprem Active Directory and **registered** to EntraID
- suitable for organization with onprem Active Directory footprint.
- device is owned by organization

### What are operating system supported by Hybrid Joined devices.
- many

### What options are available to manage Hybrid Joined devices.
- Group policy
- Configuration Manager
- Co-Management with Microsoft Intune

### What the key features supported by Entra "Hybrid" Joined devices (4 points)?
- SSO for Cloud & onprem resources
- Conditional Access
- Self-service Password Reset
- Windows Hello PIN reset

### What is Device Writeback?
- Device writeback helps you to keep a track of devices registered with Microsoft Entra ID in AD.
- It creates a copy of the device object in a container "Registered Devices" in AD.

### Why we require Device Writeback?
- In cloud based EntraID configuration, devices are only available in EntraID. If there is requirement to apply a Conditional Access policies, it can be applied easily. However, in Hybrid configuration, this is would not work without Device Writeback.
- the device writeback will also create a devices object in onprem AD making it available in AD.

### Does Windows Hello for Business requires Device Writeback?
- Yes, in case of *Hybrid* and *Federated* scenarios, it requires device writeback.

### How does EntraID helps in License Management or What capabilities it bring for license management?
- It stores information about license assignment states for users.
- Microsoft Entra ID now includes group-based licensing.

### What is the license requirement to use group-based licensing?
- EntraID
  - P1 or
  - P2
- O365
  - O365 E3 or
  - O365 A3 or
  - O365 GCC G3 or
  - O365 E3 for GCCH or
  - O365 E3 for DOD and above

- (*Note:* It can either paid or trial subsrciption)

### How many license to have for group-based licensing?
- number of license = number of members in the groups

### Group-based licensing can be applied to Security or M365 group?
- Security

### Group-based licensing can be applied to only Cloud groups?
- No, it can be applied to onprem groups (synced via Entra Connect) as well as Cloud Group

### All Microsoft cloud services that require user-level licensing are supported for 'group-based' licensing?
- Yes

### Is group-based license available via EntraID or Azure portal or both?
- Only Azure portal (as of now)

### "If a user is assigned same license from multiple sources, the license will be consumed only once." True or False?
- True

### Exercise - change group license assignments
- **// todo** ❗

### Exercise - change user license assignments
- **Step 1:** Create a new user or use a existing user for license update
- **Step 2:** Update the license from _Entra Admin Center_

### How to change the user license ?
- Goto _Entra Admin Center_
- Identity --> User
- Pick a user
- In the left navigation, select Licenses.
- On the Update license assignments blade, select the check box for a single or multiple licenses.
- <img width="915" height="419" alt="image" src="https://github.com/user-attachments/assets/ba40782d-10f8-4ba6-a09b-2495a6d03bc3" />

### What is a custom security attribute?
- Custom security attributes in Microsoft Entra ID are business-specific attributes (key-value pairs) that you can define and assign to Microsoft Entra objects.
- These attributes can be used to store information, categorize objects, or enforce fine-grained access control over specific Azure resources.

### Why use custom security attributes?
- Extend user profiles, such as add Employee Hire Date and Hourly Salary to all my employees.
- Ensure only administrators can see the Hourly Salary attribute in my employees' profiles.
- Categorize hundreds or thousands of applications to easily create a filterable inventory for auditing.
- Grant users access to the Azure Storage blobs belonging to a project.

### What can I do with custom security attributes?
- Define business-specific information (attributes) for your tenant.
- Add a set of custom security attributes on users, applications, Microsoft Entra resources, or Azure resources.
- Manage Microsoft Entra objects using custom security attributes with queries and filters.
- Provide attribute governance so attributes determine who can get access.

### Features of custom security attributes
- Available tenant-wide
- Include a description
- Support different data types: Boolean, integer, string
- Support single value or multiple values
- Support user-defined free-form values or predefined values
- Assign custom security attributes to directory synced users from an on-premises Active Directory

### "Custom security attributes are available Tenant-wide". True or False.
- True

### Can custom security attributes assigned to synced user from Active Directory?
- Yes

### How to create custom security attribute in EntraID?
- Creating a Custom security attribute is a 3 steps process:
- **Step 1:** Have the right roles and permission assigned
- **Step 2:** Create Attribute Set
- **Step 3:** Create the attribute
- **Step 4:** (optional) Assign the custom security attributs to user.

- Ref:

[Create Custom Security Attribute](https://learningbydoing.cloud/blog/getting-started-with-custom-security-attributes-in-azuread/)

[How to Create and Assign Custom Security Attributes to User](https://www.youtube.com/watch?v=1EjqmpUm790)

[Custom Security Attributes Overview](https://learn.microsoft.com/en-us/entra/fundamentals/custom-security-attributes-overview)

### What are the roles required to work with Custom security attributes (Step 1/4)?
- Attriubte Definition Administration
- Attriubte Assignment Administration

### How to create 'Attribute Set' for Custom Security attributes (Step 2/4)?
- Goto Entra Admin portal
- **Protection** --> **Custom Security Attributes** --> **Add Attribute Set**
- Enter the following information to create the Attribute set:
  - Name*
  - Description
  - Maximum number of Attributes (default: 25)
  - <img width="772" height="305" alt="image" src="https://github.com/user-attachments/assets/68068746-9c2a-40f3-8f83-a32ae1409d71" />

### How to create the attributes in 'Attribute Set' (Step 3/4)? 
- Goto the attribute set you want to add attributes (**Protection** --> **Custom Security Attributes** --> Eg: HelloWorldSet)
- Click on **Add Attribute**
- Enter the following details to create the Attribute
  - Attribute Name*
  - Description
  - Data type*
  - <img width="883" height="331" alt="image" src="https://github.com/user-attachments/assets/08989b9d-02dd-439b-a5e6-c0f746a58079" />

### How to assign custom security attribute to user (Step 4/4)?
- Goto Entra Admin portal
- Users --> All User --> Pick the user
- From Left Nav panel --> **Custom Security Attributes**
- Assign the preferred attribute set
- <img width="918" height="200" alt="image" src="https://github.com/user-attachments/assets/b6f132c5-a853-4137-902b-84de5da3f5ca" />

### Can Attribute Set renamed later ?
- No.

### What are the object that support custom security attributes?
- EntraID user
- EntraID Enterprise application (service principal)

### What is the difference between Custom Security attribute and Directory Schema Extenstion?
- Both provide similar kind of functionality with few key differences/approach.
- Custom Security attributes are more suitable when there is requirement to hold *sensitive* information
- Custom Security attriubtes are not availabel tenant wide

### Are Directory schema extensions attriubtes available tenant wide?
- Yes

### Does Global Admin role has access to create Custom Security Attribute?
- No, by default, Global Admin roles does not have permission to create custom security attributes.
- However, they can add the required roles if required.

### What is SCIM (System for Cross-Domain Identity Management)?
- System for Cross-Domain Identity Management (SCIM) is an open standard protocol for automating the exchange of user identity information between identity domains and IT systems
- SCIM ensures that employees added to the Human Capital Management (HCM) system automatically have accounts created in Microsoft Entra ID or Windows Server Active Directory

### Why use SCIM?
- SCIM ensures that employees added to the Human Capital Management (HCM) system automatically have accounts created in Microsoft Entra ID or Windows Server Active Directory
- The key is keeping your identity systems up to date.

## 📖 Day 11 (2025-07-21 05:38:59 AM +05:30)


### Mod : [Implement and manage external identities](https://learn.microsoft.com/en-us/training/modules/implement-manage-external-identities/)


### Define B2B Collaboration.
- It is a feature within _Microsoft Entra External Identities_ that lets you invite _guest user_ to collaborate with your organisation.
- they can access azure resource within the organisation with their own credentials.

### Define guest user.
- User who are not from your tenant.
- they are either from another MS EntraID tenant or other social identity system.

### How guest user join your Entra tenant?
- Invitaion redemption
- self-service sign up

### Does guest user are represented in your tenant?
- Yes, they are represented as user object.

### How to identity the guest user in your tenant?
- the user type would be 'guest'.
- the upn will have #EXT#

### What does mean if a user's UPN contains '#EXT#'?
- it means its a guest user.

### Does guest user have to be from another Entra directory?
- No, guest user can be invited with personal ids

### Does the guest user object resides in same tenant as your employees?
- Yes

### Who manages the guest user credentials?
- the external user's identity provider i.e. the source identity provider.
- you manages the access to the resources using guest user object

### Does guest user have identity in your organisation?
- Yes, a user object will be created for guest user in your tenant.
- (*Note: the user credentials are managed by user's identity provider*)

### Describe the Invitation redemption flow.
- <img width="738" height="702" alt="image" src="https://github.com/user-attachments/assets/5e9691f3-676b-4872-99d7-fd4c04d6fcd5" />
- <img width="946" height="597" alt="image" src="https://github.com/user-attachments/assets/c20328a8-5f00-4e0f-9e80-4697e12e80b4" />

### Does personal Microsoft Account (MSA) supports work email? 
- Yes, only in case the work domain is _not verified in EntraID._

### "Microsoft Entra entitlement management can be even used to configure policies that manage access for external users." True or False
- True

### Does guest users can invite other guest users?
- By default, yes.

### What are the B2B collaboration setting?
**// todo - need to check the setting and update** ❗❗

### By default who has access to invite external users?
- By default, all users, including guests, can invite guest users.

### [Exercise - configure external collaboration] (https://learn.microsoft.com/en-us/training/modules/implement-manage-external-identities/4-exercise-configure-external-collaboration)

### How to configure external collaboration settings?
- Goto Entra Admin Center
- Identities --> External Identities --> External Collaboration settings
- *Guest User Access (Setting 1)*
- *Guest Invite Settings (Setting 2)*
- *Enable guest self-service sign-up via user flows (Setting 3)*

### What are the options available under "_Guest User Access (Setting 1)_" under External Collaboration settings?
- [] Guest users have the same access as members (most inclusive)
- [] Guest users access limited to properties and memberships of directory objects: (Default)
- [] Guest user access is restricted to properties and memberships of their own directory objects (most restrictive)
- <img width="907" height="188" alt="image" src="https://github.com/user-attachments/assets/7734e299-5813-4d3d-ae93-ea1a9f5ef6a3" />

### "Guests can see membership of all nonhidden groups." - True or False
- True

### By default, guest user are prohibited from enumerating users, groups, and other directory resources? 
- Yes

### What are the options available under "_Guest Invite Settings (Setting 2)_" under External Collaboration settings?
<img width="871" height="315" alt="image" src="https://github.com/user-attachments/assets/ba507e5f-206b-483e-b8b7-187b3318f208" />

### What action does guest user need to take to access resouces?
- The guest user **must** then redeem their invitation to access resources.

### Does guest user invitation expires?
- No

### How to bulk invite guest users?
- fill the csv provieded by MS
- upload the csv to EntraID
- verify the users were added to directory

### [Exercise - add guest users to directory] (https://learn.microsoft.com/en-us/training/modules/implement-manage-external-identities/6-exercise-add-guest-users-to-directory)

### How to invite a guest user?
- Goto to Entra Admin center
- Identity --> Users --> All Users --> New Users --> Invite Extenal Users
- provide the user email address
- <img width="943" height="332" alt="image" src="https://github.com/user-attachments/assets/4f0e8243-1585-4d6f-b312-57c504d972b4" />

### In external user invitation workflow, the does the guest user email address can have '+' ?
- No, EntraID currently does not support it

### In external user invitation workflow, the does the group email address are supported?
- No


### [Exercise - invite guest users bulk] (https://learn.microsoft.com/en-us/training/modules/implement-manage-external-identities/7-exercise-invite-guest-users-bulk)


### How to invite bulk guest users?
- Goto to Entra Admin Center
- Identity --> Users --> All Users -->
- From the option menu, select Bulk Operations --> Bulk Invite
- <img width="906" height="298" alt="image" src="https://github.com/user-attachments/assets/60714f41-6bb8-4043-8bc7-d16921d6e3f0" />
- download the csv from the bulk download panel
- <img width="920" height="133" alt="image" src="https://github.com/user-attachments/assets/c64c1717-4dea-4506-aa61-84ee69c4a836" />
- edit, save and upload the file
- EntraID will create the accounts in backend
- <img width="904" height="435" alt="image" src="https://github.com/user-attachments/assets/a1c8c420-091b-4956-b968-c0a7a771e06f" />


### [Demo - manage guest users in Microsoft Entra ID](https://learn.microsoft.com/en-us/training/modules/implement-manage-external-identities/8-demo-invite-guest-users-to-app)


## 📖 Day 12 (2025-07-22 09:48:46 AM <Tuesday> +05:30)


### Can PIM (priviledge identity management) be used for B2B/guest users to grant access?
- Yes

### What are the 2 key properties of B2B Collaboration User?
- UserType
- Identity

### Describe the "UserType" properties of B2B Collab User.
- this property indicates the relationship of user to the host tenancy.
- this property can have 2 values:
  - Member
  - Guest

### What is means when B2B Collab UserType is "Member"?
- this value indicates user is a employee of the host organization (and user is in organization' payroll)
- this user is not considered external collaborator.

### What is means when B2B Collab UserType is "Guest"?
- indicates user who isn't considered internal to the company like external collaborator, partner or customer

### Does the UserType properties defines how user logs in or role access?
- No. this value only indicates the user relationship to the host tenancy.

### Describe the "Identities" properties of B2B Collab User.
- this property indicates the user's _primary identity provider_.
- a user can have several identity provider

### Can a user have several identities provider? If yes, how can we see?
- Yes
- to see the identity provider, we can check the user profile or query the identities property via Graph API

### What are the values for the Identies properties (7)? Explain them.
- External Microsoft Entra Tenant
- Microsoft Account
- {host's domain}
- google.com
- facebook.com
- mail
- {issue URI}

- Below is the explaination for all the types:
- <img width="874" height="628" alt="image" src="https://github.com/user-attachments/assets/4140cd94-4000-4818-837c-df93387783b5" />

### Can Microsoft Entra B2B users be added as members instead of guests?
- If required yes. But generally we don't add B2B users as members

### Can we convert a guest user into member user?
- Yes.

### How we can change the usertype of a user ie guest to member or vice-versa?
- With Powershell, we can change user's userType.

## 📖 Day 13 (2025-07-23 10:22:17 AM <Wednesday> +05:30) 

### Is it recommended to change UserType value using Powershell?
- No.

### Is it possible to remove limiation of guest user permission?
- Yes, from User Setting it can be changed.
- <img width="870" height="555" alt="image" src="https://github.com/user-attachments/assets/b3181a51-d47c-4248-a41e-f17395317461" />
- Alternatively, guest user can be added to any role to grant the required access.

### Does dynamic group works with B2B Collab user?
- Yes
- It requires the right licensing to work

### Can we use M365 portal to invite guest user?
- Yes

### What are the types of default collaboration is enabled for guest user in M365?
- <img width="860" height="485" alt="image" src="https://github.com/user-attachments/assets/4bcf1f25-b48f-4362-8046-696184d58091" />

- (*Note: the default enabled permission only starts working when someone in host organisation invite the guest user for those activity*)

### What is M365 portal url?
- https://admin.microsoft.com
- https://entra.microsoft.com

### [Exercise - explore dynamic groups] (https://learn.microsoft.com/en-us/training/modules/implement-manage-external-identities/11-exercise-explore-dynamic-groups)

### How to create a dynamic groups with all user as member?
- Goto entra admin center (https://entra.microsoft.com)
- Identity --> Groups --> All Groups --> **New Group**
- On the New Group page, under **Group type**, **Security**.
- In the Group name box, enter **All company users dynamic group**.
- Select the **Membership type** menu and then select **Dynamic User**.
- Under **Dynamic user members**, select **Add dynamic query**.
- On the right above the **Rule syntax** box, select **Edit**.
- In the Edit rule syntax pane, enter the following expression in the **Rule syntax** box: ```user.objectId -ne null```
- Select **OK**. The rule appears in the Rule syntax box.
- <img width="860" height="392" alt="image" src="https://github.com/user-attachments/assets/faaeabef-5800-4aa5-b143-413964b51872" />
- Select **Save**. The new dynamic group will now include B2B guest users as well as member users.
- On the New group page, select Create to create the group.

### What is Entra Verified ID?
- The service allows you to issue and verify credentials.
- **For issuers**, Microsoft Entra ID provides a service that they can customize and use to issue their own verifiable credentials.
- **For verifiers**, the service provides a free REST API that makes it easy to request and accept verifiable credentials in your apps and services

- (_check this topic later to understand more_)

### Entra Verified ID is centralised identity solution?
- No, its a decentralised solution.

### What is the pre-requisite for deploying Entra Verified ID
- An Azure tenant with a subscription
- A Microsoft Entra ID premium license
- Logged in as the global administrator
- A configured Azure Key Vault instance

### How to deploy Entra Verified ID?
- **// todo**

### Direct fedaration is renamed as _ ?
- SAML/WS-Fed Identity provider (IdP) federation

### Can any organisation federate with EntraID if they are using SAML/WS-Fed?
- Yes

### If guest have already redeem the invitation and you setup a SAML/WS-Fed Federation with their orgnaisation, does it changes their authentication method?
- No.

### If you setup a SAML/WS-Fed IdP with organization and invite new guest users, what would be their authentication system.
- It will be SAML/WS-Fed

### Does setting up federation change the authentication method for (existing) guest users who have already redeemed an invitation from you?
- No, it doesnt change the authentication method. they can continue using the earlier defined authentication method.

### What are the required **SAML attributes** to setup a federation with IdP?
- Required attributes for the SAML 2.0 response from the IdP:
- <img width="878" height="215" alt="image" src="https://github.com/user-attachments/assets/0ca3262c-9045-4a3e-8de3-19df92c6b0a0" />

### ### What are the required **SAML Claims** to setup a federation with IdP?
- Required claims for the SAML 2.0 token issued by the IdP:
- <img width="872" height="158" alt="image" src="https://github.com/user-attachments/assets/98b1a2cd-6c42-49bf-8ce3-dccf88b4947b" />

### What are the required **WS-Fed attributes** to setup a federation with IdP?
- Required attributes in the WS-Fed message from the IdP:

|Attribute|Value|
|---|---|
|PassiveRequestorEndpoint |https://login.microsoftonline.com/login.srf |
|Audience |urn:federation:MicrosoftOnline |
|Issuer |The issuer URI of the partner IdP, for example https://www.example.com/exk10l6w90DHM0yi... |

- <img width="875" height="204" alt="image" src="https://github.com/user-attachments/assets/d0c31479-ead1-41dc-ad8f-a75e0abc05e7" />

### What are the required **WS-Fed Claims** to setup a federation with IdP?
- Required claims for the WS-Fed token issued by the IdP:

|Attribute|Value|
|---|---|
|ImmutableID |https://schemas.microsoft.com/LiveID/Federation/2008/05/ImmutableID |
|emailaddress | https://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress |

- <img width="872" height="163" alt="image" src="https://github.com/user-attachments/assets/4e4cae23-4165-42cc-b90a-5b1d5782e554" />

## 📖 Day 14 (2025-07-24 11:22:43 PM <Thursday> +05:30)

### If federation is present with Google, does invited users need to create MS account?
- No, the invited user can use thier GMail account instead of creating MS account

### Does Google federation covers both gmail and google workspace users?
- No, google federation only covers gmail users.

### What method is used to create federation with google workspace?
- Direct Federation

### how to setup federation with google?
- **// todo**
- https://learn.microsoft.com/en-us/training/modules/implement-manage-external-identities/13-configure-identity-providers

### how to setip federation with facebook?
- **// todo**
- https://learn.microsoft.com/en-us/training/modules/implement-manage-external-identities/13-configure-identity-providers

# 📖 Day 15 (2025-07-25 04:52:01 AM <Friday> +05:30)

#### What is cross-tenant access setting or why to use cross-tenant settings?
- Cross-tenant access settings give you granular control over how external Microsoft Entra organizations collaborate with you, **inbound access**.
- You can also control how your users collaborate with external Microsoft Entra organizations, **outbound access**.

- <img width="828" height="526" alt="image" src="https://github.com/user-attachments/assets/526837f0-534b-4861-b83b-9dbdb79c9596" />


#### By default, B2B collaboration with other Microsoft Entra organisation is enabled?
- Yes

#### By default, B2B direct connect is enabled?
- No, it is block by default.

#### What are the default settings available for cross-tenant settings?
- Outbound access settings
- Inbound access settings
- Trust settings (inbound)
- B2B direct

#### What is "outbound access setting" in default cross-tenant setting?
- Control whether users can access resources in an external organization.
- can be applied to everyone or selected users/groups/applications

#### What is "inbound access setting" in default cross-tenant setting?
- Control whether users from external Microsoft Entra organizations can access resources in your organization.
- can be applied to everyone or selected users/groups/applications

#### What is "Trust setting (inbound)" in default cross-tenant setting?
- basically trusting the external org CA and MFA policies and based on that allowing or restricting the access.

#### What is "B2B Direct Connect" in default ncross-tenant setting?
- Set up a mutual trust relationship with another Microsoft Entra organization for seamless collaboration
- currently works with Microsoft Teams shared channels.

#### B2B Direct Connect currently works with _ ?
- Microsoft Teams shared channels

#### What is the organisation specific configuration in cross-tenant setting?
- if there is specific requirement to your orgnaisation, it can be defined here.

#### What is the microsoft cloud specific configuration?
- for microsoft Azure Government and Azure China

#### How does the B2B Direct Connect works?
- mutual trust relationship between 2 entra org
- both org needs to enable b2b direct connect
- it is currrently only available for Teams Shared Channel.
  - the B2B direct connect user can seamlessly access the shared channel in their home tenant Teams instance, without having to manually sign in to the organization hosting the shared channel.

### Knowledge Check

#### Q1. Users assigned limited administrator directory roles can use the Azure portal to invite B2B collaboration users. You can invite B2B collaboration users to a directory or to a group. What other activities can B2B collaboration users be invited?
- An application

#### Q2. Microsoft Entra B2B can be configured to federate with identity providers that use either of two protocols. One protocol is Security Assertion Markup Language (SAML); what is the other protocol?
- WS-Federation (WS-Fed)

#### Q3. What are dynamic groups?
- Dynamic groups are security groups whose memberships are based on user attributes (such as userType, department, or country/region).


## Mod : [Implement and manage hybrid identity] (https://learn.microsoft.com/en-us/training/modules/implement-manage-hybrid-identity/)

## 📖 Day 16 (2025-07-26 11:25:10 PM <Saturday> +05:30)

#### Why use Microsoft Entra Connect?
- sync users from on-prem (active directory) to EntraID.

#### What are the authentication method available under Microsoft Entra Connect?
- Cloud Authentication
  - Microsoft Entra Password Hash Synchronization (PHS)
  - Microsoft Entra Pass-Through Authentication (PTA)
- Federated Authentication

#### Define Microsoft Entra password hash synchronization (PHS)?
- The simplest way to enable authentication for on-premises directory objects in Microsoft Entra.
- basically we sync the password hash from the onprem to entra ID
- <img width="927" height="455" alt="image" src="https://github.com/user-attachments/assets/08663839-f3cb-4998-8fc3-3811db1f0fac" />

#### Define Microsoft Entra pass-through authentication (PTA)?
- basically for the authentication of the synced identites, it will happen onprem automatically.
- <img width="926" height="506" alt="image" src="https://github.com/user-attachments/assets/2af42c14-da47-4cd6-8865-15430bbc6524" />

## 📖 Day 17 (2025-07-27 11:06:09 PM <Sunday> +05:30)

#### Does Entra Pass-through Authentication requires agent installation in on-prem env?
- Yes
- MS recommends 3 agents

#### "Pass-through authentication enforces the on-premises account policy at the time of sign-in." - True or False.
- True

#### What is federated Authentication?
- In this method, Microsoft Entra ID hands off the authentication process to a separate trusted authentication system, such as on-premises Active Directory Federation Services (AD FS), to validate the user’s password
- <img width="928" height="531" alt="image" src="https://github.com/user-attachments/assets/f8ad936f-2314-4cd1-a8b2-f070103c8c67" />

#### What are the scenarios when we require federated authentication?
- Authentication that requires smartcards or certificates.
- Sign in that requires a sAMAccountName (eg: DOMAIN\Username)

#### Federated systems typically require a load-balanced array of servers, known as a _ ?
- Farm

## 📖 Day 18 (2025-07-28 11:50:18 AM <Monday> +05:30)

#### Why MS recommends Password Hash Synchronization (PHS)?
- High availability and disaster recovery
  - Password Hash Synchronization is highly available because the Microsoft Entra cloud authentication service scales globally and is always available.
- On-premises outage survival
  - As there is no *onPrem* footprint requires for PHS, even in case of any on-premise outage, the Entra authentication service will be available. 
- Identity protection
  - Using the Microsoft Entra Identity Protection (requires P2), MS continually scans the Internet for user and password lists from leaked data (on dark web).
  - Leaked credentials are presented as reports and can be used to block or force the user to change the password.
 
#### How frequently, does the PHS agent on AD Connect server, request for the hashed password?
- Every 2 minutes (by default)
- https://learn.microsoft.com/en-us/azure/active-directory/hybrid/how-to-connect-password-hash-synchronization

#### What is the attribute name that PHS agent looks in AD?
- unicodePwd

## 📖 Day 19 (2025-07-29 05:17:19 AM <Tuesday> +05:30)

#### What are the concepts should be considered while implementationg MS Entra Connect?
- sourceAnchor
- MS Entra Sign-in
- Custom domain state & UPN

#### Define the sourceAnchor concept in MS Entra Connect.
- The sourceAnchor attribute is defined as an attribute immutable during the lifetime of an object.
- uniquely identifies an object as being the same object on-premises and in Microsoft Entra ID.

#### What is the other name of sourceAnchor attribute?
- immutableId

#### "immutableId" is aka?
- sourceAnchor

#### In what scenarios, sourceAnchor attribute is used?
- When a new sync engine server is built, or rebuilt after a disaster recovery scenario, this attribute links existing objects in Microsoft Entra ID with objects on-premises.
- If you move from a cloud-only identity to a synchronized identity model, then this attribute allows objects to "hard match" existing objects in Microsoft Entra ID with on-premises objects.
- If you use federation, then this attribute together with the userPrincipalName is used in the claim to uniquely identify a user.

#### What is the maz char length sourceAnchor supports?
- 60 chars

#### What are some rules followed by sourceAnchor attribute value?
- <img width="807" height="353" alt="image" src="https://github.com/user-attachments/assets/c4bb2db0-624f-4754-8ee8-501b9d484d4a" />

#### If you have a single forest on-premises, which on-prem AD attribute should used as sourceAnchor?
- objectGUID

#### If you have multiple forests and don't move users between forests and domains, then "_" is a good attribute to use?
- objectGUID

#### When you're selecting the attribute for providing the value of UPN to be used in Azure one should ensure?
- follows UPN syntax (rfc 822) i.e. `username@domain`
- the suffix of the value matches one of the verified domains in MS Entra ID

#### MS Entra Connect Express setting, the assumed choice for the UPN (Entra) attribute value is ?
- userPrincipalName (WS-AD)

#### "If the userPrincipalName attribute doesn't contain the value you want your users to sign in to Azure, then you must choose Custom Installation." - True or False
- True

#### Can non-routable domain verified in Entra ID?
- No

#### Microsoft Entra Connect can sync to only a _ domain in Microsoft Entra ID?
- Verified domain

#### Is the default domain i.e. "xyz.onmicrosoft.com" routable?
- Yes

#### What happens if the (AD) UPN of a user does not matches a verified domain EntraID?
- If the UPN suffix of the user is "contoso.com", the Entra Connect tool will replaces the UPN suffix with **contoso.onmicrosoft.com** (in EntraID)

#### Does the MS Entra Connect Express settings warns about non-routable domains?
- Yes

#### What to do when you have non-routable domain on-premise and you don't want to use the fallback suffix (xyz.onmicrosoft.com) as UPN suffix?
- Use the custom setting and then choose the on-premise attribute which can be used as EntraID UPN value.

#### What are some common topologies for MS Entra Connect sync?
- Single forest, single Microsoft Entra tenant
- Multiple forests, single Microsoft Entra tenant
- Multiple forests, single sync server, users are represented in only one directory
- Multiple forests: full mesh with optional GALSync
- Multiple forests: account-resource forest
- Staging server
- Multiple Microsoft Entra tenants
- Each object only once in a Microsoft Entra tenant

#### Describe the "Single forest, single Microsoft Entra tenant" topology used for MS Entra Connect.
- most common topology
- single on-premises forest ( with one or multiple domains )  and a single Microsoft Entra tenant

#### Which topology is used by Entra Connect express setting?
- single forest, single tenant

#### Which authentication method is selected (by default) in single forest, single tenant topology?
- PHS
- **verify this ???**

#### What is account-resource topology?
- generally user accounts are present in one forest and resources are present in another forest.
- resource forest typically have extended schema with Exchange & Teams

#### Microsoft Entra Connect supports installing a second server in _ mode ?
- Staging mode

#### Describe the staging server mode in MS Entra Connect.
- A server in this mode reads data from all connected directories but doesn't write anything to connected directories
- secondary server for the MS Entra Connect agent
- basically active-passive setup

#### "There's a 1:1 relationship between a Microsoft Entra Connect sync server and a tenant" - True or False
- True

#### "For each Microsoft Entra tenant, you need one Microsoft Entra Connect sync server installation" - True or False
- True

#### What are the components of MS Entra Connect ?
- Connecter Space (CS)
- Metaverse (MV)
- Sync Rules
- Run Profiles

- <img width="818" height="360" alt="image" src="https://github.com/user-attachments/assets/f6a3f76a-d02b-49ae-ac97-13881e3fdf39" />

#### What is provisioning engine in Entra Connect?
- It is the service encompassing Entra Connect components -  Connector Space, Metaverse & Sync rules

#### The process of reading information from each Connected Directory (CD) is called?
- Import

#### _ refers to updating the directories from the provisioning engine?
- Export

#### Describe SYNC in Entra Connect.
- Sync evaluates the rules of how the objects will flow inside the provisioning engine.

#### What is the Connected Directory (CD) ?
- Identity store (or directory) for syncing the identity.
- One can be the source (on-prem AD) and other can be the destination (EntraID)

#### Describe Connector Space (CS) in Entra Connect.
- Objects from each connected directory (CD), the actual directories, are staged here first before they can be processed by the provisioning engine.
- Microsoft Entra ID has its own CS and each forest you connect to will have its own CS

- *kind of like staging area in git*

#### Describe Metaverse in Entra Connect.
- Objects that need to be synced are created here based on the sync rules.
- Objects must exist in the MV before they can populate objects and attributes to the other connected directories
- can only one Metaverse

#### Describe Sync Rules for Entra Connect. 
- They decide which objects will be created (projected) or connected (joined) to objects in the MV.
- The sync rules also decide which attribute values will be copied or transformed to and from the directories

#### Describe Run profiles for Entra Connect
- Bundles the process steps of copying objects and their attribute values according to the sync rules between the staging areas and connected directories

#### Describe the MS Entra Cloud Sync.
- syncing on-prem identity to EntraID
- this is achieved by _Cloud Provisioning agent_ unlike MS Entra Connect on-prem agent
- can be used along with MS Entra Connect

#### Can MS Entra Cloud Sync used along with MS Entra Connect?
- Yes

#### Why to prefer Entra cloud sync over MS Entra connect?
- Cloud sync needs only light-weight agent on-prem and the actual sync configuration managed in cloud

- *Note: Not all features are available in Entra Cloud Sync**

#### How Password Hash Synchronization (PHS) works?
- one of the sign-in methods  in Entra Connect.
- Microsoft Entra Connect synchronizes a hash, of a user's password from an on-premises Active Directory instance to a cloud-based Microsoft Entra instance.
- Passwords are synchronized on a per-user basis and in chronological order.

- <img width="812" height="575" alt="image" src="https://github.com/user-attachments/assets/e9069a63-f1d3-489b-aeb6-d24591472fbb" />

#### How does active directory stores the password of a account?
- Active Directory Domain Services stores passwords in the form of a hash value representation of the actual user password

#### How frequent password syncs run in PHS? Can it be modified?
- every 2 mins
- no, this default and it can't changed

#### "Passwords are synchronized more frequently than the standard directory synchronization window for other attributes" - True or False
- True

#### Does the initial sync for PHS allows to select specific users?
- No
- It syncs the pwd hash for all scoped user.

#### Can after the initial sync PHS we can change the scope of users?
- Yes, Once the initial synchronization completes, you can set up a **selective password hash sync** for future synchronizations.

#### "If there are multiple connectors, it's possible to disable password hash sync for some connectors but not others" - True or False
- True

#### Which method does Entra Connect _Express Setting_ select by default?
- PHS

#### While using the Custom Setting in Entra Connect, PHS setting is available in _ page?
- User Sign-in

#### How to enable MD5 pwd hash sync (in case it is disabled due to FIPS)?
- Go to `%programfiles%\Azure A D Sync\Bin`.
- Open miiserver.exe.config.
- Go to the configuration/runtime node at the end of the file.
- Add the following node: `<enforceFIPSPolicy enabled="false"/>`
- Save your changes

- It would look like below:
- <img width="456" height="225" alt="image" src="https://github.com/user-attachments/assets/f9993960-6c98-4bd4-91f6-1ca5feb298a5" />

#### How to configure PingFederate with Microsoft Entra Connect?
- **// todo**

#### Define Pass-Through Authentication (PTA).
- It allows your users to sign in to both on-premises and cloud-based applications by using the same passwords
- Pass-through authentication signs users in by validating their passwords directly against on-premises Active Directory.

## 📖 Day 20 (2025-07-30 09:54:46 AM <Wednesday> +05:30)

#### To configure PTA in Entra Connect, which setting mode should be used?
- Custom setting mode

#### After the initial configuration of Entra Connect, can the authentication method be changed?
- yes

#### How to change the authentication method for Entra Connect after initial setup?
- Goto MS Entra Connect --> Task --> Change user sign-in --> `next`
- Select Pass-through authentication as the sign-in method
- <img width="837" height="598" alt="image" src="https://github.com/user-attachments/assets/87b44e36-92cb-4731-86ae-49f4adc8f02d" />

- On successful completion, a pass-through authentication agent is installed on the same server as Microsoft Entra Connect and the feature is enabled on your tenant.


#### Does PTA in Entra Connect requires agent installation?
- Yes

#### "Pass-through authentication is a tenant-level feature" - True or False
- True

#### What is MS Entra seamless single sign-on (SSO)?
- Microsoft Entra seamless single sign-on (seamless SSO) automatically signs in users from their network-connected corporate desktops
- Seamless SSO provides your users with easy access to cloud-based applications without needing any other on-premises components.

#### "Seamless SSO can be combined with either the Password Hash Synchronization or Pass-through Authentication sign-in methods" - True or False
- True

#### Does Seamless SSO applicable to Active Directory Federation Services (ADFS)?
- No

#### How does sign-in on a web browser with Seamless SSO work?
- **// todo**
- // re-read

#### How does sign-in on a native client with Seamless SSO work?
- **// todo**
- // re-read

#### In case Hybrid Identity (devices), what is the computer name in onprem Active Directory which represents the Entra ID tenant?
- AZUREADSSOACC ( AZUREAD SSO ACC )

## 📖 Day 20 (2025-07-31 21:44:46 PM <Thursday> +05:30)

#### Federation can use a new or existing on-premises Active Directory farm in Windows Server __ (or later)? (
- Windows 2012 R2 

## 📖 Day 21 (2025-08-01 23:42:37 PM <Friday> +05:30)

#### Define Federation.
- Federation is a collection of domains that have established trust.

#### In federation, generally the level of trust includes __ and (almost) always __ ? 
- Authentication
- Authorization

#### With Federated sign-in does user authenticate with their EntraID or on-prem account?
- Federated onprem credentials

## 📖 Day 22 (2025-08-03 11:48:27 PM <Sunday> +05:30)

#### What are the 3 types of operation MS Entra Connect peforms?
- Import
- Synchronise
- Export

#### What is the InvalidSoftMatch error during "Export to EntraID"?
- **InvalidSoftMatch** error occurs when the hard match doesn't find any matching object **AND** soft match finds a matching object but that object has a different value of immutableId than the incoming object's SourceAnchor, suggesting that the matching object was synchronized with another object from on premises Active Directory

## 📖 Day 23 (2025-08-04 06:39:44 AM <Monday> +05:30)

#### What is "Hard Match" in MS Entra Connect sync process?
- When Microsoft Entra Connect (sync engine) instructs directory to add or update objects, Microsoft Entra ID matches the incoming object using the sourceAnchor attribute to the immutableId attribute of objects in Microsoft Entra ID. This match is called a **Hard Match**.

- AD object's sourceAnchor == EntraID Object's ImmutableID

 #### What is "Soft Match" in MS Entra Connect sync process?
- When Microsoft Entra ID doesn't find any object that matches the immutableId attribute with the sourceAnchor attribute of the incoming object, before provisioning a new object, it falls back to use the ProxyAddresses and UserPrincipalName attributes to find a match. This match is called a **Soft Match**.
- The Soft Match is designed to match objects already present in Microsoft Entra ID with the new objects being added/updated during synchronization that represent the same entity (users, groups) on premises.

#### "If any object with immutableId set with a value is failing the hard-match but satisfying the soft-match criteria, the operation would result in an InvalidSoftMatch synchronization error." - True or False
- True

#### What are some of the attributes which EntraID does not allow duplicate value?
- ProxyAddresses
- UserPrincipalName
- onPremisesSecurityIdentifier
- ObjectId

#### What is MS Entra Duplicate Resiliency?
- it allows provisioning of new objects which are otherwise blocked from being provisioned due to duplicated values in Microsoft Entra.
- Hence reducing the number of sync errors returned to synchronisation client.

## 📖 Day 24 (2025-08-11 10:19:02 AM <Monday> +05:30)

#### Describe "ObjectTypeMismatch" sync error in MS Entra Connect.
- When EntraID attempt to soft match two objectcts, it's possible for two objects two have same for a attributes for soft-match but the object themselves of different type.

#### How to fix "ObjectTypeMismatch" error?
- Identity the duplicated attributes
- Identity the conflicting objects
- Decide which object should have the attribute value and remove it from the other object

#### Describe "AttributeValueMustBeUnique" sync error in MS Entra Connect.
- If Microsoft Entra Connect attempts to add a new object or update an existing object with a value for the `ProxyAddress or UserPrincipalName` attributes that is already assigned to another object in Microsoft Entra ID, the operation results in the "AttributeValueMustBeUnique" sync error.

#### What are the attributes which Entra schema does not allow duplicates value?
- ProxyAddress
- UserPrincipalName

#### How to resolve the "AttributeValueMustBeUnique" error?
- Identity the conflicting objects.
- Identity the duplicate value for the sourceAnchor (immutableID)
- Remove the duplicate value from the object which should not have this value.
- Wait for Entra Connect to sync the changes if its made in onprem AD

#### Describe "IdentityDataValidationFailed" sync error in MS Entra Connect.
- Microsoft Entra ID enforces various restrictions on the data itself before allowing that data to be written into the directory. These restrictions are to ensure that end users get the best possible experiences while using the applications that depend on this data.

- Eg: The UserPrincipalName attribute value has invalid/unsupported characters. b. The UserPrincipalName attribute doesn't follow the required format.

#### Describe "FederatedDomainChangeError" sync error in MS Entra connect.
- this sync error occurs when the suffix of a user's UserPrincipalName is changed from one federated domain to another federated domain

#### Describe "LargeObject" sync error in MS Entra Connect.
- When an attribute exceeds the allowed size limit, length limit or count limit set by Microsoft Entra schema, the synchronization operation results in the *LargeObject* or *ExceededAllowedLength* sync error

#### Which attributes are _generally_ affected by LargeObject error?
- userCertificate
- userSMIMECertificate
- thumbnailPhoto
- proxyAddresses

#### What is the hard limit on the number of certificates stored in "userCertificate" attriubte?
- 15 certificates

#### What is the hard limit on the number of certificates stored in "userSMIMECertificate" attriubte?
- 15 certificates

#### Describe "AdminRoleConflict" sync errro in MS Entra Connect.
- An Existing Admin Role Conflict will occur on a user object during synchronization when that user object has:
  - administrative permissions and
  - the same UserPrincipalName as an existing Microsoft Entra object

#### Is MS Entra allowed to do soft-match for user who have administrative role assigned?
- No

#### How to fix "AdminRoleConflict" sync error?
1. Remove the Microsoft Entra account (owner) from all admin roles.
2. **Hard Delete** the Quarantined object in the cloud.
3. The next sync cycle will take care of soft-matching the on-premises user to the cloud account (since the cloud user is now no longer a global GA).
4. Restore the role memberships for the owner.

#### Describe MS Entra Connect Health <OR> Describe what does it do.
- Microsoft Entra Connect Health provides monitoring of your on-premises identity infrastructure. It enables you to maintain a reliable connection to Microsoft 365 and Microsoft Online Services
- This reliability is achieved by providing monitoring capabilities for your key identity components

- <img width="833" height="630" alt="image" src="https://github.com/user-attachments/assets/06465a7e-1005-4802-80c1-8c2a3fb0ba8d" />


#### Whare does the Entra Connect Health makes the data available?
- MS Entra Connect Health portal.

#### What (min) license is required to use Entra Connect Health?
- P1 (Microsoft Entra ID Premium P1 license)

#### Does MS Entra Connect Health requires agent?
- Yes, it requires agent installation in onprem system.

#### What are the requirements for installing Entra Connect Health agent?
- Microsoft Entra ID Premium is installed.
- You're a global administrator in Microsoft Entra ID.
- The Microsoft Entra Connect Health agent is installed on each targeted server.
- The Azure service endpoints have outbound connectivity.
- Outbound connectivity is based on IP addresses.
- TLS inspection for outbound traffic is filtered or disabled.
- Firewall ports on the server are running the agent.
- The agent requires the following firewall ports to be open so that it can communicate with the Microsoft Entra Connect Health service endpoints:
  - TCP port 443
  - TCP port 5671
  - *Note*: The latest version of the agent doesn't require port 5671. Upgrade to the latest version so that only port 443 is required.
- PowerShell version 4.0 or newer is installed.
- FIPS (Federal Information Processing Standard) is disabled.

#### FIPS should be Enabled or Disabled for MS Entra Connect Health agent installation?
 - Disabled

#### MS Entra Connect Health agent requires which port to be opened ?
 - TCP/443

#### What Entra role by default has permission for MS Entra Connect Health Agent installation?
- Global Admin

#### How to install the MS Entra Connect Agent for AD FS?
- Downlaod the exe from Download Center
- Double click the exe to start the installation
- Sign-in with account which has permission to install the agent. (By default Global Admin has the permission)

#### How to verify if the MS Entra connect Health Agent is successfully install for AD FS?
- Verify following services are running:
  - Microsoft Entra Connect Health AD FS Diagnostics Service
  - Microsoft Entra Connect Health AD FS Insights Service
  - Microsoft Entra Connect Health AD FS Monitoring Service

#### How to install the MS Entra Connect Health Agent for Entra Connect Sync?
- No separate installation is required as the latest version for Entra Connect sync has Health agent installed.

#### How to verify if the MS Entra connect Health Agent is successfully install for Connect Sync?
- Verify following services are running:
  - Microsoft Entra Connect Health Sync Insights Service
  - Microsoft Entra Connect Health Sync Monitoring Service
 
## 📖 Day 25 (2025-08-12 10:22:30 AM <Tuesday> +05:30)

#### How to Configure the Email notification in MS Entra Connect Health ?
- Open the **Alerts** dialog for the service for which you want to receive email notification.
- From the action bar, select **Notification Settings**.
- At the email notification switch, select **ON**.
- Select the check box if you want all global administrators to receive email notifications.
- If you want to receive email notifications at any other email addresses, specify them in the **Additional Email Recipients** box. To remove an email address from this list, select the entry and select Delete.
- To finalize the changes, select **Save**. Changes take effect only after you save.

#### Email notification are enabled by defualt for Entra connect health. - True Or False.
- True

#### If any issue occurs in sync process in backend end services, how does MS send the notification?
- _Early behaviour_ was to send mail notification for each sync error/issue.
- _Latest behaviour_ is to send daily digest of sync issue

#### How to remove a "Server" from MS Entra Connect Health monitoring?
- (_Note: Steps are same for both AD FS server or Sync Server_)

- Goto MS Entra Connect Health
- AD FS Service --> Server List
- Select the server which need to be removed
- then select **Delete**
- Confirm by typing the server name
- Select Delete

- <img width="830" height="346" alt="image" src="https://github.com/user-attachments/assets/5f6bea03-4f14-4af9-a0e1-c5e1fd0af4d1" />

#### How to remove a "Server" from MS Entra Connect Health monitoring for Entra Domain Services?
- Goto to Entra Connect Health.
- Open the **Domain Controllers** dashboard.
- Select the domain controller to be removed.
- From the action bar, select **Delete Selected**.
- Confirm the action to delete the server.
- Select **Delete**.

#### When server is removed from MS Entra Connect Health, does older data collected from this server also get deleted?
- No

#### When server is removed from MS Entra Connect Health, does Health Agent also get removed/uninstalled from the server?
- No

#### When server is removed from MS Entra Connect Health, but Agent is not removed, what happens in this case?
- If Health Agent is not uninstalled the before removing the server, you might see errors related to the Health Agent on the server.

#### How to remove a "Service Instance" from MS Entra Connect Health monitoring?
- (_Note: Steps are same for both AD FS server or Sync Server_)

- Goto MS Entra Connect Health
- Open the Service screen from the Service List dialog by selecting the service identifier (farm name) that you want to remove
- On the Service screen, from the action bar, select Delete

- <img width="677" height="148" alt="image" src="https://github.com/user-attachments/assets/0182356a-eada-4c55-a121-2a3d0a7ccfb7" />

- Confirm by typing the service name in the confirmation box (for example: sts.contoso.com)
- Select Delete

#### When "Service Instance" is removed from MS Entra Connect Health, does Health Agent also get removed/uninstalled from the server?
- No

#### When "Service Instance" is removed from MS Entra Connect Health, does older data collected from this server also get deleted?
- No (All data from this service instance is deleted in accordance with the Azure data retention policy)

#### What are built-in Azure RBAC roles supported by MS Entra Connect Health?
- Owner
- Contributor
- Reader

#### What "Owner" RBAC role can do in MS Entra Connect Health?
- manage access
- view all information
- change settings

#### Who are by default granted the "Owner" Role for MS Entra Connect Health? Can this be changed?
- Global Admin are granted by defualt the Owner roles

- No, we cannot remvove Owner roles for the GA in MS Entra Connect Health

#### What "Contributor" RBAC role can do in MS Entra Connect Health?
- view all information
- change settings

#### What "Reader" RBAC role can do in MS Entra Connect Health?
- view all information

#### Does other Azure RBAC roles (besideds Owner/Contributor/Reader) have any access to MS Entra Connect Health?
- No other roles have any access besides three mentioned roles.
- Even if others roles shows in portal, they would have no access in Entra Connect Health

#### Microsoft Entra Connect Health supports managing access at (__) levels? Name them.
- _Two_ access scope

- the two access scopes are:
  - All service Instance
  - Service Instance
 
#### Describe the "All service instances" access scope for MS Entra Connect Health.
- recommended access scope
- control access for **all** service instances (across all role types)

#### Describe the "Service instances" access scope for MS Entra Connect Health.
- In some cases, you might need to segregate access based on role types or by a service instance. In this case, you can manage access at the service instance level.

## 📖 Day 26 (2025-08-13 09:02:43 AM <Wednesday> +05:30)

#### How to allow users or group access to MS Entra Connect health?
- Step 1: Select the appropriate access scope

- Step 2: Add users and groups, and assign roles
  - From Left Panel, goto Configure --> Rolr Based Access Control (IAM) 
  - Click on Users --> Add
  - Select the role (owner/contributor/reader)
  - <img width="826" height="371" alt="image" src="https://github.com/user-attachments/assets/426d2cb5-70bd-4bbb-93c5-4f3da1385e02" />
  - Add the Users/groups
  - <img width="821" height="476" alt="image" src="https://github.com/user-attachments/assets/aa7898a4-5440-4d7b-8d9a-9048dd3119f6" />
  - Click OK

#### How to remove users or groups from Entra Connect Health portal access?
- Goto Entra Connect Health portal (https://aka.ms/aadconnecthealth)
- From Left Panel --> Configure Section --> RBAC (IAM)
- Here list of users/groups would show
- Select the right user/group --> Right Click --> Remove
- <img width="677" height="555" alt="image" src="https://github.com/user-attachments/assets/fc1f5d1d-e712-41e6-8f47-60464f1dc6c5" />

#### What is the common cause for "QuarantinedAttributeValueMustBeUnique" or "AttributeValueMustBeUnique" sync error?
- Duplicate value for either - UserPrincipalName or Proxy Addresses

#### Describe the Orphaned Object scenario.
- When existing user (in EntraID) loses the **sourceAnchor**.
- this occurs when the sync does not happen due to some reasons like sync engine issue or domain migration

- (https://learn.microsoft.com/en-us/training/modules/implement-manage-hybrid-identity/9-manage-azure-active-directory-connect-health)

#### How to use MS Entra Connect Health Self-service remediation feature for sync error?
- rtfd
- (https://learn.microsoft.com/en-us/training/modules/implement-manage-hybrid-identity/9-manage-azure-active-directory-connect-health)

#### Module assessment
---

#### 1. What is the defining feature of hybrid identity solutions?
- They create common user identities for authentication and authorization to both on-premises and cloud-based resources.

#### 2. Which authentication method requires the least effort regarding deployment, maintenance, and infrastructure?
- Password hash synchronization (PHS)

#### 3. Some situations might require the removal of a server from being monitored by the Microsoft Entra Connect Health service. What needs to be done to start monitoring the same server again?
- The Health Agent needs to be uninstalled and reinstalled on this server

# Learning Path : [SC-300: Implement an Authentication and Access Management solution](https://learn.microsoft.com/en-us/training/paths/implement-authentication-access-management-solution/)

#### What is MS Entra multifactor authentication (MFA) ?
- Microsoft Entra multifactor authentication (MFA) supplies added security for your identities by requiring two or more elements for full authentication.

- These elements fall into three categories
  - **Something you know**, which might be a password or the answer to a security question.
  - **Something you possess**, which might be a mobile app that receives a notification or a token-generating device.
  - **Something you are**, which is typically a biometric property, such as a fingerprint or face scan used on many mobile devices.

#### What are the various factors/elements require for MFA process?
- Something you know
- Something you posses
- Something you are

#### Describe "Something you know" element in MFA.
- **Something you know**, which might be a password or the answer to a security question.

#### Describe "Something you posses" element in MFA.
- - **Something you possess**, which might be a mobile app that receives a notification or a token-generating device.

#### Describe "Something you are" element in MFA.
- **Something you are**, which is typically a biometric property, such as a fingerprint or face scan used on many mobile devices.

#### How does MFA help in protecting identies?
- It provides additional layer of authentication/verification
- In case of username/password leaks it protect the identity as it requires additional validation

#### How to get multifactor authentication (license) ?
- Microsoft Entra ID P1 or P2 or Microsoft 365 Business:
  - Both of these offerings support Microsoft Entra multifactor authentication using **security defaults** to require multifactor authentication
  - (Also via Conditional Access)
 
- Microsoft Entra ID Free or standalone Microsoft 365 licenses:
  - Both use **security defaults** that require multifactor authentication for your users and administrators.

#### What are general MS recommendation for deploying MFA?
- Plan it in wave (not to all user in same time)
  - Start with small Pilot user
  - Broaden the groups over time
 
- More details : https://learn.microsoft.com/en-us/entra/identity/authentication/howto-mfa-getstarted#enforcing-registration

#### What are ths supported methods available in EntraID for MFA?
- Mobile App Code verification
- Mobile App notification
- Call to phone
- FIDO2 security key
- Windows Hello for Business
- OAUTH Tokens

#### Does end user has option to choose preferred MFA methods?
- Yes, admin can make available all or selected methods.
- Then end user can opt in for each MFA methods they want to use/

#### How does end user can register their selected/preferred method of MFA?
- Option a) : Microsoft Entra ID Protection
  - Easiest Option (as per MS)  
  - If your organization has a license for Identity Protection, you can configure it to prompt users to register for MFA the next time they sign in.

- Option b) Prompt users to register for MFA when they try to access resources protected by MFA

- Option c) Conditional Access
  - Enforce registration using a Conditional Access policy applied to an Azure group containing all users in your organization

## Exercise - [Enable Microsoft Entra multifactor authentication] (https://learn.microsoft.com/en-us/training/modules/secure-aad-users-with-mfa/4-exercise-mfa)

#### What license is required for enabling EntraID MFA?
- Entra ID P1 or P2

#### How to configure the MFA options (per user) ?
- **todo:**  read some different articles
- ms article is not clear

#### How to configure MFA options using conditional Access?
- Suppose you want to enforce MFA for guest user accessing specific apps. Follow the below steps to enable it:

- Goto Azure Portal
- Microsoft Entra ID --> Security --> Conditional Access
- Select Create new policy from the top menu.

- <img width="790" height="377" alt="image" src="https://github.com/user-attachments/assets/a424ff5a-149d-4c57-9ef9-7262cbc15324" />

- Name your policy, for example, All guests.

- Under Users, select 0 users and groups selected
    - Under Include, choose Select users and groups.
    - Select users and groups and then choose Select.

- Under Target resources, select No target resources selected.
    - Select Cloud apps.
    - Under Include, choose Select apps.
    - Under Select, choose None. Select apps from the options on the right and then choose Select.

- Under Conditions, select 0 conditions selected.
  - Under Locations, select Not configured.
  - Under Configure, select Yes, then select Any location.

- Under Grant, select 0 controls selected.
  - Make sure that Grant access is selected.
  - Select Require multifactor authentication and choose Select. This option enforces MFA.

- Under Grant, select 0 controls selected
  - Make sure that Grant access is selected.
  - Select Require multifactor authentication and choose Select. This option enforces MFA.

- Set Enable policy to On, and then Create.

- <img width="328" height="780" alt="image" src="https://github.com/user-attachments/assets/26669232-8daf-4551-a5a9-1efef5e98c74" />

## 📖 Day 27 (2025-08-15 11:42:17 PM <Friday> +05:30)

#### What are various authentication method in EntraID?
- Password
- Security
- Email Address
- Windows Hello for Business
- FIDO2 Security key
- MS Authenticator App
- OATH Hardware token
- OATH Software token
- Text message
- Voice call
- App passwords

#### Which one of the authentication cannot be disabled in EntraID?
- Password

#### Which of the authentication methods are only supported for SSPR?
- Security Question
- Email Address

#### Can a administrator see or read a security question's answer?
- No

#### How many pre-defined security question does EntraID provides?
- 35

#### What are some of the (authentication method) passwordless solution available in EntraID?
- WHfB, FIDO2, MS Auth App

#### Describe FIDO2 security keys.
- FIDO2 security keys are an unphishable, standards-based, and passwordless authentication method that can come in any form factor
- Fast Identity Online (FIDO) is an open standard for passwordless authentication

#### What does FIDO stands for?
- Fast Identity Online (FIDO)

#### What is OATH?
- OATH is an open standard that specifies how to generate one-time password codes

#### Does MS EntraID support hardware OATH tokens?
- Yes, Microsoft Entra ID supports the use of OATH-TOTP SHA-1 tokens of the 30-second or 60-second variety

## 📖 Day 28 (2025-08-16 12:22:17 PM <Saturday> +05:30)

#### What authentication method MS consider most safe?
- Passwordless

#### What Authentication method scores High on Security, Usability & Availability?
- Windows Hello for Business
- MS Auth App
- FIDO2 Security Key

#### What authentication method can be only used as Primary authentication?
- Password
- (It cannot be used for MFA or SSPR)

#### What authentication method(s) cannot be used for Primary authentication?
- OATH Hardware tokens (preview)
- OATH software tokens
- Voice call

#### What authentication method(s) can be used as Primary Authentication?
- WHfB
- MS Auth App
- FIDO2 Security Key
- SMS
- Password

#### What authentication method(s) can be only used for Secondary Authentication?
- OATH Hardware tokens (preview)
- OATH software tokens
- Voice call

#### Describe which Authentication method can be used as Primary & Secondary.
- <img width="834" height="502" alt="image" src="https://github.com/user-attachments/assets/b5b4d62b-3d35-4caf-be79-79ff7457d13c" />

#### What are the ways the authentication methods can be configured? 
- In Azure portal
- MS Graph API

#### Can we disable password as authentication method in EntraID?
- No

#### Describe App Passwords or why does it is used?
- Used for old applications that don't support modern authentication and can be configured for per-user multifactor authentication.

#### What kind of authentication is supported by "Security Question"?
- Only used for SSPR

#### What kind of authentication is supported by "Email"?
- Only used for SSPR

#### How to enable FIDO2 Security Key method?
- Go to MS Entra admin center
- Protection --> Authentication Methods --> Authentication method policy
- Under the method FIDO2 Security Key, choose the following options:
  - **Enable** - Yes or No
  - **Target** - All users or Select users
- Save the configuration.

#### How to register for FIDO2 security key as authentication method?
- Browse to https://myprofile.microsoft.com.
- Sign in if you haven't already.
- Select **Security Info**.
- If the user already has at least one multifactor authentication method registered, they can immediately register a FIDO2 security key.
- If they don't have at least one multifactor authentication method registered, they must add one.
- Add a FIDO2 security key by selecting **Add method** and choosing **Security key**.
- Choose **USB device** or **NFC device**.
- Have your key ready and choose **Next**.
- A box will appear and ask the user to create/enter a PIN for your security key and then perform the required gesture for the key, either biometric or touch.
- The user will be returned to the combined registration experience and asked to provide a meaningful name for the key so the user can identify which one if they have multiple. Select **Next**.
- Select **Done** to complete the process.

#### What are the pre-requisite for cloud only deployment (question is not clear)?
- Windows 10, version 1511 or later or Windows 11
- Microsoft Azure account
- Microsoft Entra ID
- Multifactor authentication
- Modern Management - optional, Microsoft Intune, or supported third-party mobile-device management (MDM)
- Microsoft Entra ID Premium subscription - optional, needed for automatic MDM enrollment when the device joins Microsoft Entra ID

#### In what various ways, MS Auth app can be used?
- users can authenticate in a passwordless way during sign-in, _OR_
- as an additional verification option during self-service password reset (SSPR) _OR_
- multifactor authentication events.

#### MS Authentication app can be used as Hardware or Software OATH verification code?
- Software verification code

#### How many OATH or (authenticator app) can be configured/provided to users in EntraID?
- Max 5

## 📖 Day 29 (2025-08-17 05:00:24 AM <Sunday> +05:30)

#### Describe Windows Hello for Business.
- Windows Hello for Business replaces passwords with strong two-factor authentication on PCs and mobile devices.
- This authentication consists of a new type of user credential that is tied to a device and uses a biometric or PIN
- Windows Hello for Business lets user authenticate to an Active Directory or Microsoft Entra account.

#### Does WHfb support onprem Active directory solution?
- Yes

#### What are the problems with password does WHfb overcomes?
- Strong passwords can be difficult to remember, and users often reuse passwords on multiple sites.
- Server breaches can expose symmetric network credentials (passwords).
- Passwords are subject to replay attacks.
- Users can inadvertently expose their passwords due to phishing attacks

#### How does Windows Hello for Business provide 2 factor authentication?
- it does in following way:
  - a certificate/key tied to a device
  - something you know (PIN) or something you are (Biometrics)  

#### Does PIN or Biometrics are shared with authentication server?
- No

#### Does Personal & corporate account "keys" are stored differently?
- No, both personal & corporate account use a single container for "keys".
- All keys are separated by Identity provider domain to ensure user privacy

#### What is "KeyCredential Admin" group? Why we need it?
- MS Entra Connect syncs the public key of user object.
- You assign write & read permission to this group to Active directory attribute.
- then MS Entra Connect service can add or remove keys are part of its normal workflow.

#### How to create "KeyCredential Admin" group?
- Sign in a domain controller or management workstation with Domain Admin equivalent credentials.
- Open Active Directory Users and Computers.
- Select View and select Advance Features.
- Expand the domain node from the navigation pane.
- Right-select the Users container. Select New. Select Group.
- Type KeyCredential Admins in the Group Name text box.
- Select OK.

#### Do we need to create "KeyCredential Admin" group on Windows Server 2016 (or higher) DC?
- No,
- this groups get automatically created for 2016 or above domain controllers

#### Why create a User group for Windows Hello for Business?
- to deploy WHfb in phase manner
- group policy and certificate templates can be assigned to this group.

#### How to create user group for Windows Hello for Business?
- Sign in a domain controller or management workstation with Domain Admin equivalent credentials.
- Open Active Directory Users and Computers.
- Select View and select Advanced Features.
- Expand the domain node from the navigation pane.
- Right-select the Users container. Select New. Select Group.
- Type Windows Hello for Business Users in the Group Name text box.
- Select OK.

#### What is TPM?
- TPM stands for Trusted Platform Module.
- It is a hardware component which is used to store keys and measurements that verify the integrity of the system.
- Eg: Bitlocker & WHfB uses this TPM

#### What is Pluton Security Processer?
- It prevents the physical attach scenarios where attacker gain access to the device and try to steal or modify the communication channel between CPU & TPM.
- The Pluton design removes the potential for that communication channel to be attacked by building security directly into the CPU.

#### Define MS Entra Self-service password reset.
- Microsoft Entra self-service password reset (SSPR) gives users the ability to change or reset their password, with no administrator or helpdesk involvement

#### Describe the benefits of Self-service password reset.
- Users can reset their own password - no productivity loss
- No admin or IT intervention - enables IT to focus on bigger issues

#### What are licensing requirement for using SSPR?
- **Cloud based Accounts**
  - User has to enroll into SSPR
  - MS Entra P1/P2 _OR_ M365 Business Standard

- **On-premise accounts**
  - User has to enroll into SSPR
  - MS Entra P1/P2 _OR_ M365 Business _Premium_
 
#### Is there any difference in licensing requirement for Cloud account & onprem account SSPR requirement?
- Yes, if we use M365 license.
- M365 Business Premium is required for On-prem account (while only Standard is required for Cloud users)

#### How to enable SSPR in EntraID?
- Sign in to the Azure portal using an account with global administrator permissions.
- Search for and select Microsoft Entra ID, then select **Password reset** from the menu on the left side.
- From the **Properties page**, under the option **Self-service password reset**, select Select group
- Browse for and select your Microsoft Entra group, like SSPR-Test-Group, then choose Select.
- To enable SSPR for the chosen group, select Save

- <img width="830" height="371" alt="image" src="https://github.com/user-attachments/assets/e21b885b-3354-434f-921e-16949879b2e4" />

#### How to register for Self service password reset?
- Open a different browser or open an InPrivate or Incognito browser session and then browse to https://aka.ms/ssprsetup. This is to ensure you'll be prompted for user authentication.
- Sign in as MonicaT@organization-domain-name.onmicrosoft.com with the password that you noted earlier. Replace the organization-domain-name with your domain name.
- When prompted to update your password, enter a new password of your choice. Be sure to record the new password.
- In the More information required dialog box, select Next.
- On the Keep your account-secure page, user the Phone option or select the I want to set up a different method link.
- <img width="778" height="567" alt="image" src="https://github.com/user-attachments/assets/dfd1e0d1-4b9d-4455-a79a-46ac666a7db3" />
- In this example, you'll use the Phone option. Enter your mobile phone details.
- Select Text me a code.
- When you receive the code on your mobile phone, enter the code in the text box and then select Next.
- After your phone has been registered, select Next and then select Done.
- Close the browser. You don't need to complete the sign-in process.

 #### What is the url for SSPR registration (short url)?
 - aka.ms/ssprsetup

#### How to test if SSPR is working correctly (after intial configuration)?
- Open a different browser or open an InPrivate or Incognito browser session and then browse to https://aka.ms/sspr. This is to ensure you well be prompted for user authentication.
- In the Email, phone, or Skype box, enter MonicaT@organization-domain-name.onmicrosoft.com and then select Next. Replace the organization-domain-name with your domain name.
- On the Enter password page, select Forgot my password.
- On the Get back into your account page, complete the requested information and then select Next.
- <img width="663" height="558" alt="image" src="https://github.com/user-attachments/assets/0e925113-bf0f-4213-8a52-5870db1d05fb" />
- In the verification step 1 task, select Text my mobile phone or Call my mobile phone, enter your phone number and then select Text.
- <img width="692" height="591" alt="image" src="https://github.com/user-attachments/assets/fd57ee5a-6232-499a-8590-0e9c673a8ca7" />
- Enter your verification code and then select Next.
- Choose a new password step, enter a password and then confirm your new password.
- When complete, select Finish.
- Sign in as Monica with the new password you created.
- Enter your verification code and then verify you can complete the sign-in process.
- When finished, close your browser.

#### What is Microsoft Entra Password Protection?
- Microsoft Entra Password Protection provides a global and custom banned password list To enforce strong passwords in your organization.
- A password change request fails if there's a match in these banned passwords list.

#### Does Microsoft Entra Password Protection requires Domain Controller to connect to Internet?
- No

#### What port is require by Microsoft Entra Password Protection?
- No new ports are required

#### Does Microsoft Entra Password Protection requires minimum Forest or Domain Level?
- No

#### Does Microsoft Entra Password Protection requires any accounts in onprem Active Directory?
- No

#### How does Microsoft Entra Password Protection works?
- there are two components required for Microsoft Entra Password Protection works
  - Microsoft Entra Password Protection proxy service : Installed on member server and can connect to EntraID
  - Microsoft Entra Password Protection DC agent : Installed on (each??) Domain Controller and validate pwd change request against Global + Custom password list.

- The DC Agent service is responsible for initiating the download of a new password policy from Microsoft Entra. The first step is to locate a Microsoft Entra Password Protection proxy-service by querying the forest for proxy _serviceConnectionPoint_ objects.

- When an available proxy service is found, the DC Agent sends a password policy download request to the proxy service. The proxy service in turn sends the request to Microsoft Entra, and then returns the response to the DC Agent service.

- After the DC Agent service receives a new password policy from Microsoft Entra, the service stores the policy in a dedicated folder at the root of its domain sysvol folder share. The DC Agent service also monitors this folder in case newer policies replicate in from other DC Agent services in the domain.

- The DC Agent service always requests a new policy at service startup. After the DC Agent service is started, it checks the age of the current locally available policy hourly. If the policy is older than one hour, the DC Agent requests a new policy from Microsoft Entra via the proxy service, as described previously. If the current policy isn't older than one hour, the DC Agent continues to use that policy.

- When password change events are received by a DC, the cached policy is used to determine if the new password is accepted or rejected. 

- <img width="816" height="793" alt="image" src="https://github.com/user-attachments/assets/d11dd5fd-adca-489f-82ca-920af9944656" />


#### Where does the Microsoft Entra Password Protection stores the password policy?
- the service stores the policy in a dedicated folder at the root of its domain sysvol folder share.

#### What the renewal diuration for requesting new password policy
- 1 hour

#### What are modes Microsoft Entra Password Protection can be deployed?
- Audit Mode (Recommended before enforcing)
- Enforced Mode 

#### Can Microsoft Entra Password Protection affect domain controller deployment? 
- Yes
- (MS recommend that at least one DC promotion and one DC demotion happen during the audit period evaluation to help uncover issues such as weak passwords preventing promotion and demotion)

#### Does Microsoft Entra Password Protection affect (or validate) existing passwords?
- No.
- Microsoft Entra Password Protection only validate passwords during password change or set operations.

#### Does Microsoft Entra Password Protection support RODC? Why or Why not?
- No, RODC are not supported.

- As Password change or set events aren't processed and persisted on read-only domain controllers (RODCs), there is no benefit installing it on RODC.

#### What are licensing requirement for Microsoft Entra Password Protection?
- <img width="836" height="221" alt="image" src="https://github.com/user-attachments/assets/b82882f4-f5f0-4cb9-a625-0e8a89828af9" />

#### Custom passworrd banned list requires which license?
- P1 or P2

#### What are core requirement to deploy Microsoft Entra Password Protection?
- account with domain admin (in forest root domain)
- KDS enabled on all DC
- connectivity between one dc & proxy service
- Proxy server should have access to following endpoints:
  - https://login.microsoftonline.com (Authentication requests)
  - https://enterpriseregistration.windows.net (Microsoft Entra Password Protection functionality)

#### What are the endpoints the Microsoft Entra Password Protection Proxy service must have access to?
- https://login.microsoftonline.com (Authentication requests)
- https://enterpriseregistration.windows.net (Microsoft Entra Password Protection functionality)
